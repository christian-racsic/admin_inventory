import{_ as L}from"./DialogCloseBtn-Cpwqmvb9.js";import{r as i,o as G,c as v,a as p,w as e,b as l,d as V,t as g,e as P,f as y,u as t,g as f,V as T,h as M,i as E,F as Z,j as se,l as O,k as ae}from"./index-W4kja-31.js";import{$ as q}from"./api-DxrbhZSf.js";import{V as F}from"./VCard-CrSgQsdG.js";import{V as z}from"./VCardText-D-w9kZpv.js";import{V as X}from"./VForm-D3Vuhlg_.js";import{V as N,a as d}from"./VRow-f7OHVuKd.js";import{V as S}from"./VAlert-ELbKA5bW.js";import{V as K}from"./VDialog-CqxdfU_E.js";import{_ as le}from"./IconBtn-BnO4JjSS.js";import{V as te}from"./VSelect-CLTqdzaG.js";import{V as ne}from"./VTable-Cddsam7K.js";import{V as J}from"./VTextField-DIHLaahk.js";import{V as oe}from"./VTextarea-DO_zl4Eg.js";import{V as ie}from"./VDataTable-Ctd8mvtt.js";import{V as ee}from"./VChip-6YKG-Q6j.js";import"./index-BYrzgnBV.js";import"./VAvatar-D-KF6a6N.js";import"./VImg-BXz4PYAy.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./VOverlay-DsWRzxlS.js";import"./VList-DFWg69W8.js";import"./VDivider-D7rU52Ox.js";import"./VMenu-HxKMt7sI.js";import"./VCheckboxBtn-D15mcKdF.js";import"./VPagination-D84KJ4BT.js";import"./filter-CbKp_48J.js";const ue={class:"text-center pb-6"},re={class:"text-h4 mb-2"},de={__name:"UnitConversionDeleteDialog",props:{isDialogVisible:{type:Boolean,required:!0},unitConversionSelected:{type:Object,required:!0}},emits:["update:isDialogVisible","deleteUnitConversion"],setup(B,{emit:A}){const n=B,b=A,u=i(null),r=i(null),s=i(null),_=async()=>{u.value=null,r.value=null,s.value=null;try{const m=await q("unit-conversions/"+n.unitConversionSelected.id,{method:"DELETE",onResponseError({response:k}){r.value=k._data.error}});console.log(m),b("deleteUnitConversion",n.unitConversionSelected),c()}catch(m){console.log(m)}};G(()=>{console.log(n.unitConversionSelected)});const c=()=>{b("update:isDialogVisible",!1)},U=m=>{b("update:isDialogVisible",m)};return(m,k)=>{const w=L;return p(),v(K,{"max-width":"500","model-value":n.isDialogVisible,"onUpdate:modelValue":U},{default:e(()=>[l(F,{class:"pa-sm-11 pa-3"},{default:e(()=>[l(w,{variant:"text",size:"default",onClick:c}),l(z,{class:"pt-5"},{default:e(()=>[V("div",ue,[V("h4",re," Delete Unit Conversion: "+g(n.unitConversionSelected.id),1)]),l(X,{class:"mt-4",onSubmit:P(_,["prevent"])},{default:e(()=>[l(N,null,{default:e(()=>[l(d,{cols:"12"},{default:e(()=>[V("p",null,"驴Estas seguro de eliminar la Unidad a Convertir : "+g(n.unitConversionSelected.unit_to.name)+"?",1)]),_:1}),t(u)?(p(),v(d,{key:0,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"warning"},{default:e(()=>[f(g(t(u)),1)]),_:1})]),_:1})):y("",!0),t(r)?(p(),v(d,{key:1,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"error"},{default:e(()=>[f(g(t(r)),1)]),_:1})]),_:1})):y("",!0),t(s)?(p(),v(d,{key:2,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"success"},{default:e(()=>[f(g(t(s)),1)]),_:1})]),_:1})):y("",!0),l(d,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:e(()=>[l(T,{type:"submit",color:"error"},{default:e(()=>[f(" Eliminar ")]),_:1}),l(T,{color:"secondary",variant:"outlined",onClick:c},{default:e(()=>[f(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ce=V("div",null,null,-1),me={class:"text-center pb-6"},pe={class:"text-h4 mb-2"},_e=V("thead",null,[V("tr",null,[V("th",{class:"text-uppercase"}," Unidad a Convertir "),V("th",{class:"text-uppercase"}," Acci贸n ")])],-1),fe={__name:"UnitConversionAddDialog",props:{isDialogVisible:{type:Boolean,required:!0},unitSelected:{type:Object,required:!0},units:{type:Object,required:!0}},emits:["update:isDialogVisible","addConversion"],setup(B,{emit:A}){const n=B,b=A,u=i(null),r=i([]),s=i([]),_=i(null),c=i(null),U=i(null),m=i(!1),k=i(null),w=async()=>{_.value=null,c.value=null,U.value=null;let a={unit_id:n.unitSelected.id,unit_to_id:u.value};try{const o=await q("unit-conversions/",{method:"POST",body:a,onResponseError({response:h}){c.value=h._data.error}});console.log(o),o.message==403?c.value=o.message_text:(U.value="La unidad a convertir se ha a帽adido correctamente",s.value.unshift(o.unit_conversion),_.value=null,c.value=null)}catch(o){console.log(o)}},C=async()=>{try{const a=await q("unit-conversions?unit_id="+n.unitSelected.id,{method:"GET",onResponseError({response:o}){console.log(o._data.error)}});console.log(a),s.value=a.unit_conversion}catch(a){console.log(a)}},D=a=>{m.value=!0,k.value=a},$=a=>{let o=s.value.findIndex(h=>h.id==a.id);o!=-1&&s.value.splice(o,1)},I=()=>{b("update:isDialogVisible",!1)},H=a=>{b("update:isDialogVisible",a)};return G(()=>{r.value=n.units.filter(a=>a.id!=n.unitSelected.id),C()}),(a,o)=>{const h=L,R=le,Q=de;return p(),M(Z,null,[ce,l(K,{"max-width":"650","model-value":n.isDialogVisible,"onUpdate:modelValue":H},{default:e(()=>[l(F,{class:"pa-sm-11 pa-3"},{default:e(()=>[l(h,{variant:"text",size:"default",onClick:I}),l(z,{class:"pt-5"},{default:e(()=>[V("div",me,[V("h4",pe," Unit Conversion : "+g(n.unitSelected.name),1)]),l(X,{class:"mt-4",onSubmit:P(w,["prevent"])},{default:e(()=>[l(N,null,{default:e(()=>[l(d,{cols:"6"},{default:e(()=>[l(te,{items:t(r),"item-title":"name","item-value":"id",modelValue:t(u),"onUpdate:modelValue":o[0]||(o[0]=j=>E(u)?u.value=j:null),label:"Unidades",placeholder:"Select Item",eager:""},null,8,["items","modelValue"])]),_:1}),l(d,{cols:"6"},{default:e(()=>[l(T,{type:"submit"},{default:e(()=>[f(" + ")]),_:1})]),_:1}),t(_)?(p(),v(d,{key:0,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"warning"},{default:e(()=>[f(g(t(_)),1)]),_:1})]),_:1})):y("",!0),t(c)?(p(),v(d,{key:1,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"error"},{default:e(()=>[f(g(t(c)),1)]),_:1})]),_:1})):y("",!0),t(U)?(p(),v(d,{key:2,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"success"},{default:e(()=>[f(g(t(U)),1)]),_:1})]),_:1})):y("",!0),l(d,{cols:"12"},{default:e(()=>[l(ne,null,{default:e(()=>[_e,V("tbody",null,[(p(!0),M(Z,null,se(t(s),j=>(p(),M("tr",{key:j.id},[V("td",null,g(j.unit_to.name),1),V("td",null,[l(R,{size:"small",onClick:W=>D(j)},{default:e(()=>[l(O,{icon:"ri-delete-bin-line"})]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),l(d,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:e(()=>[l(T,{color:"secondary",variant:"outlined",onClick:I},{default:e(()=>[f(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1}),t(k)&&t(m)?(p(),v(Q,{key:0,isDialogVisible:t(m),"onUpdate:isDialogVisible":o[1]||(o[1]=j=>E(m)?m.value=j:null),unitConversionSelected:t(k),onDeleteUnitConversion:$},null,8,["isDialogVisible","unitConversionSelected"])):y("",!0)]),_:1})]),_:1})]),_:1},8,["model-value"])],64)}}},ve={class:"text-center pb-6"},be={class:"text-h4 mb-2"},ge={__name:"UnitDeleteDialog",props:{isDialogVisible:{type:Boolean,required:!0},unitSelected:{type:Object,required:!0}},emits:["update:isDialogVisible","deleteUnit"],setup(B,{emit:A}){const n=B,b=A,u=i(null),r=i(null),s=i(null),_=async()=>{u.value=null,r.value=null,s.value=null;try{const m=await q("units/"+n.unitSelected.id,{method:"DELETE",onResponseError({response:k}){r.value=k._data.error}});console.log(m),b("deleteUnit",n.unitSelected),c()}catch(m){console.log(m)}};G(()=>{console.log(n.unitSelected)});const c=()=>{b("update:isDialogVisible",!1)},U=m=>{b("update:isDialogVisible",m)};return(m,k)=>{const w=L;return p(),v(K,{"max-width":"650","model-value":n.isDialogVisible,"onUpdate:modelValue":U},{default:e(()=>[l(F,{class:"pa-sm-11 pa-3"},{default:e(()=>[l(w,{variant:"text",size:"default",onClick:c}),l(z,{class:"pt-5"},{default:e(()=>[V("div",ve,[V("h4",be," Delete Unit : "+g(n.unitSelected.id),1)]),l(X,{class:"mt-4",onSubmit:P(_,["prevent"])},{default:e(()=>[l(N,null,{default:e(()=>[l(d,{cols:"12"},{default:e(()=>[V("p",null,"驴Estas seguro de eliminar la Unidad : "+g(n.unitSelected.name)+"?",1)]),_:1}),t(u)?(p(),v(d,{key:0,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"warning"},{default:e(()=>[f(g(t(u)),1)]),_:1})]),_:1})):y("",!0),t(r)?(p(),v(d,{key:1,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"error"},{default:e(()=>[f(g(t(r)),1)]),_:1})]),_:1})):y("",!0),t(s)?(p(),v(d,{key:2,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"success"},{default:e(()=>[f(g(t(s)),1)]),_:1})]),_:1})):y("",!0),l(d,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:e(()=>[l(T,{type:"submit",color:"error"},{default:e(()=>[f(" Eliminar ")]),_:1}),l(T,{color:"secondary",variant:"outlined",onClick:c},{default:e(()=>[f(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Ve={class:"text-center pb-6"},De={class:"text-h4 mb-2"},ye={__name:"UnitEditDialog",props:{isDialogVisible:{type:Boolean,required:!0},unitSelected:{type:Object,required:!0}},emits:["update:isDialogVisible","editUnit"],setup(B,{emit:A}){const n=B,b=A,u=i(null),r=i(null),s=i(null),_=i(null),c=i(null),U=i(null),m=async()=>{if(_.value=null,c.value=null,U.value=null,!u.value){setTimeout(()=>{_.value="Se debe llenar el nombre de la unidad"},50);return}if(!r.value){setTimeout(()=>{_.value="Se debe llenar la descripci贸n de la unidad"},50);return}let C={name:u.value,description:r.value,state:s.value};try{const D=await q("units/"+n.unitSelected.id,{method:"PATCH",body:C,onResponseError({response:$}){c.value=$._data.error}});console.log(D),D.message==403?c.value=D.message_text:(U.value="La unidad se ha editado correctamente",b("editUnit",D.unit),_.value=null,c.value=null)}catch(D){console.log(D)}},k=()=>{b("update:isDialogVisible",!1)},w=C=>{b("update:isDialogVisible",C)};return G(()=>{u.value=n.unitSelected.name,r.value=n.unitSelected.description,s.value=n.unitSelected.state}),(C,D)=>{const $=L;return p(),v(K,{"max-width":"650","model-value":n.isDialogVisible,"onUpdate:modelValue":w},{default:e(()=>[l(F,{class:"pa-sm-11 pa-3"},{default:e(()=>[l($,{variant:"text",size:"default",onClick:k}),l(z,{class:"pt-5"},{default:e(()=>[V("div",Ve,[V("h4",De," Edit Unit : "+g(n.unitSelected.name),1)]),l(X,{class:"mt-4",onSubmit:P(m,["prevent"])},{default:e(()=>[l(N,null,{default:e(()=>[l(d,{cols:"12"},{default:e(()=>[l(J,{modelValue:t(u),"onUpdate:modelValue":D[0]||(D[0]=I=>E(u)?u.value=I:null),label:"Nombre",placeholder:"Example: Caja"},null,8,["modelValue"])]),_:1}),t(_)?(p(),v(d,{key:0,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"warning"},{default:e(()=>[f(g(t(_)),1)]),_:1})]),_:1})):y("",!0),t(c)?(p(),v(d,{key:1,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"error"},{default:e(()=>[f(g(t(c)),1)]),_:1})]),_:1})):y("",!0),t(U)?(p(),v(d,{key:2,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"success"},{default:e(()=>[f(g(t(U)),1)]),_:1})]),_:1})):y("",!0),l(d,{cols:"12"},{default:e(()=>[l(oe,{modelValue:t(r),"onUpdate:modelValue":D[1]||(D[1]=I=>E(r)?r.value=I:null),label:"Descripci贸n: ",placeholder:""},null,8,["modelValue"])]),_:1}),l(d,{cols:"6"},{default:e(()=>[l(te,{items:[{name:"Activo",id:1},{name:"Inactivo",id:2}],"item-title":"name","item-value":"id",modelValue:t(s),"onUpdate:modelValue":D[2]||(D[2]=I=>E(s)?s.value=I:null),label:"Estado",placeholder:"Select Item",eager:""},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:e(()=>[l(T,{type:"submit"},{default:e(()=>[f(" Guardar ")]),_:1}),l(T,{color:"secondary",variant:"outlined",onClick:k},{default:e(()=>[f(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Ce=V("div",{class:"text-center pb-6"},[V("h4",{class:"text-h4 mb-2"}," Add Unit ")],-1),Ue={__name:"UnitAddDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible","addUnit"],setup(B,{emit:A}){const n=B,b=A,u=i(null),r=i(null),s=i(null),_=i(null),c=i(null),U=async()=>{if(s.value=null,_.value=null,c.value=null,!u.value){setTimeout(()=>{s.value="Se debe llenar el nombre de la unidad"},50);return}if(!r.value){setTimeout(()=>{s.value="Se debe llenar la descripci贸n de la unidad"},50);return}let w={name:u.value,description:r.value,state:1};try{const C=await q("units",{method:"POST",body:w,onResponseError({response:D}){_.value=D._data.error}});console.log(C),C.message==403?_.value=C.message_text:(c.value="La unidad se ha registrado correctamente",b("addUnit",C.unit),u.value="",r.value="",s.value=null,_.value=null,c.value=null,m())}catch(C){console.log(C)}},m=()=>{b("update:isDialogVisible",!1)},k=w=>{b("update:isDialogVisible",w)};return(w,C)=>{const D=L;return p(),v(K,{"max-width":"650","model-value":n.isDialogVisible,"onUpdate:modelValue":k},{default:e(()=>[l(F,{class:"pa-sm-11 pa-3"},{default:e(()=>[l(D,{variant:"text",size:"default",onClick:m}),l(z,{class:"pt-5"},{default:e(()=>[Ce,l(X,{class:"mt-4",onSubmit:P(U,["prevent"])},{default:e(()=>[l(N,null,{default:e(()=>[l(d,{cols:"12"},{default:e(()=>[l(J,{modelValue:t(u),"onUpdate:modelValue":C[0]||(C[0]=$=>E(u)?u.value=$:null),label:"Nombre",placeholder:"Example: Caja"},null,8,["modelValue"])]),_:1}),t(s)?(p(),v(d,{key:0,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"warning"},{default:e(()=>[f(g(t(s)),1)]),_:1})]),_:1})):y("",!0),t(_)?(p(),v(d,{key:1,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"error"},{default:e(()=>[f(g(t(_)),1)]),_:1})]),_:1})):y("",!0),t(c)?(p(),v(d,{key:2,cols:"12"},{default:e(()=>[l(S,{closable:"","close-label":"Close Alert",color:"success"},{default:e(()=>[f(g(t(c)),1)]),_:1})]),_:1})):y("",!0),l(d,{cols:"12"},{default:e(()=>[l(oe,{modelValue:t(r),"onUpdate:modelValue":C[1]||(C[1]=$=>E(r)?r.value=$:null),label:"Descripci贸n: ",placeholder:""},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:e(()=>[l(T,{type:"submit"},{default:e(()=>[f(" Guardar ")]),_:1}),l(T,{color:"secondary",variant:"outlined",onClick:m},{default:e(()=>[f(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},xe={class:"text-h6"},ke={class:"d-flex gap-1"},el={__name:"units",setup(B){const A=[{title:"ID",key:"id"},{title:"Unidad",key:"name"},{title:"Descripci贸n",key:"description"},{title:"Fecha de registro",key:"created_at"},{title:"Estado",key:"state"},{title:"Acciones",key:"action"}],n=i(!1),b=i(!1),u=i(!1),r=i(!1),s=i([]),_=i(null),c=i(null),U=i(null),m=i(null),k=async()=>{try{const a=await q("units?search="+(_.value?_.value:""),{method:"GET",onResponseError({response:o}){console.log(o._data.error)}});console.log(a),s.value=a.units}catch(a){console.log(a)}},w=a=>{console.log(a);let o=s.value;s.value=[],o.unshift(a),setTimeout(()=>{s.value=o},50)},C=a=>{console.log(a);let o=s.value;s.value=[];let h=o.findIndex(R=>R.id==a.id);h!=-1&&(o[h]=a),setTimeout(()=>{s.value=o},50)},D=a=>{console.log(a);let o=s.value;s.value=[];let h=o.findIndex(R=>R.id==a.id);h!=-1&&o.splice(h,1),setTimeout(()=>{s.value=o},50)},$=a=>{console.log(a),b.value=!0,c.value=a},I=a=>{u.value=!0,U.value=a},H=a=>{r.value=!0,m.value=a};return G(()=>{k()}),(a,o)=>{const h=le,R=Ue,Q=ye,j=ge,W=fe;return p(),M("div",null,[l(F,{title:" Units"},{default:e(()=>[l(z,null,{default:e(()=>[l(N,{class:"justify-space-between"},{default:e(()=>[l(d,{cols:"3"},{default:e(()=>[l(J,{placeholder:"Search Unit",density:"compact",class:"me-3",modelValue:t(_),"onUpdate:modelValue":o[0]||(o[0]=x=>E(_)?_.value=x:null),onKeyup:ae(k,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{cols:"2",class:"text-end"},{default:e(()=>[l(T,{onClick:o[1]||(o[1]=x=>n.value=!t(n))},{default:e(()=>[f(" Add Unit "),l(O,{end:"",icon:"ri-add-line"})]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{headers:A,items:t(s),"items-per-page":5,class:"text-no-wrap"},{"item.id":e(({item:x})=>[V("span",xe,g(x.id),1)]),"item.state":e(({item:x})=>[x.state==1?(p(),v(ee,{key:0,color:"primary"},{default:e(()=>[f(" Activo ")]),_:1})):y("",!0),x.state==2?(p(),v(ee,{key:1,color:"error"},{default:e(()=>[f(" Inactivo ")]),_:1})):y("",!0)]),"item.action":e(({item:x})=>[V("div",ke,[l(h,{size:"small",onClick:Y=>H(x)},{default:e(()=>[l(O,{icon:"ri-git-repository-commits-line"})]),_:2},1032,["onClick"]),l(h,{size:"small",onClick:Y=>$(x)},{default:e(()=>[l(O,{icon:"ri-pencil-line"})]),_:2},1032,["onClick"]),l(h,{size:"small",onClick:Y=>I(x)},{default:e(()=>[l(O,{icon:"ri-delete-bin-line"})]),_:2},1032,["onClick"])])]),_:1},8,["items"])]),_:1}),l(R,{isDialogVisible:t(n),"onUpdate:isDialogVisible":o[2]||(o[2]=x=>E(n)?n.value=x:null),onAddUnit:w},null,8,["isDialogVisible"]),t(c)&&t(b)?(p(),v(Q,{key:0,isDialogVisible:t(b),"onUpdate:isDialogVisible":o[3]||(o[3]=x=>E(b)?b.value=x:null),unitSelected:t(c),onEditUnit:C},null,8,["isDialogVisible","unitSelected"])):y("",!0),t(U)&&t(u)?(p(),v(j,{key:1,isDialogVisible:t(u),"onUpdate:isDialogVisible":o[4]||(o[4]=x=>E(u)?u.value=x:null),unitSelected:t(U),onDeleteUnit:D},null,8,["isDialogVisible","unitSelected"])):y("",!0),t(m)&&t(r)?(p(),v(W,{key:2,isDialogVisible:t(r),"onUpdate:isDialogVisible":o[5]||(o[5]=x=>E(r)?r.value=x:null),units:t(s),unitSelected:t(m)},null,8,["isDialogVisible","units","unitSelected"])):y("",!0)])}}};export{el as default};
