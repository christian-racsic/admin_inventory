import{N as z,O as N,T as M,r as V,P as ie,v as G,q as F,x as w,n as J,c as m,a as r,w as g,d as $,D as q,b as k,L as S,u as e,z as p,t as R,M as A,p as y,A as C,h as L,F as K,j as Y,C as j,Q as ae,R as ne,U as se,W as Q,s as re,X as oe,y as U,Y as I,Z as le,f as x,B as P,g as T,_ as X,$ as ce,a0 as ue,a1 as de,a2 as ve,E as pe,G as me,o as fe,S as ge,J as E}from"./index-W4kja-31.js";import{P as he}from"./vue3-perfect-scrollbar.esm-CxSWNeYy.js";import{V as ye}from"./VNodeRenderer-DBsjYCNl.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as be,a as ee,_ as Ne}from"./I18n-BtFpAdq4.js";import{_ as Ce}from"./AppLoadingIndicator-DcXZWLc0.js";import ke from"./NavbarThemeSwitcher-NE3TU7fS.js";import _e from"./UserProfile-Bdyi1jzt.js";import{_ as Ve}from"./IconBtn-BnO4JjSS.js";import{V as Se}from"./VSpacer-Czsw5HnE.js";import"./VMenu-HxKMt7sI.js";import"./VOverlay-DsWRzxlS.js";import"./forwardRefs-DWGaNmQL.js";import"./VImg-BXz4PYAy.js";import"./VList-DFWg69W8.js";import"./VAvatar-D-KF6a6N.js";import"./VDivider-D7rU52Ox.js";import"./VTooltip-DOtX7Pla.js";import"./avatar-1-BM2ScAvk.js";import"./VChip-6YKG-Q6j.js";import"./VBadge-YxY29cJR.js";/* empty css              */const Ae=z({name:"TransitionExpand",setup(i,{slots:a}){const d=t=>{const o=getComputedStyle(t).width;t.style.width=o,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const s=getComputedStyle(t).height;t.style.width="",t.style.position="",t.style.visibility="",t.style.height="0px",getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=s})},h=t=>{t.style.height="auto"},n=t=>{const o=getComputedStyle(t).height;t.style.height=o,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height="0px"})};return()=>N(N(M),{name:"expand",onEnter:d,onAfterEnter:h,onLeave:n},()=>{var t;return(t=a.default)==null?void 0:t.call(a)})}}),Ie=Z(Ae,[["__scopeId","data-v-1c811e34"]]),we=i=>(ae("data-v-a966936e"),i=i(),ne(),i),$e={class:"nav-header"},Re=we(()=>$("div",{class:"vertical-nav-items-shadow"},null,-1)),xe={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(i){const a=i,d=V(),h=ie(d);se(Q,h);const n=G(),t=v=>"heading"in v?Be:"children"in v?Pe:te,o=F();w(()=>o.name,()=>{a.toggleIsOverlayNavActive(!1)});const s=V(!1),l=v=>s.value=v,b=v=>{s.value=v.target.scrollTop>0},_=n.isVerticalNavMini(h);return(v,c)=>{const f=J("RouterLink");return r(),m(y(a.tag),{ref_key:"refNav",ref:d,class:j(["layout-vertical-nav",[{"overlay-nav":e(n).isLessThanOverlayNavBreakpoint,hovered:e(h),visible:i.isOverlayNavActive,scrolled:e(s)}]])},{default:g(()=>[$("div",$e,[q(v.$slots,"nav-header",{},()=>[k(f,{to:"/",class:"app-logo app-title-wrapper"},{default:g(()=>[k(e(ye),{nodes:e(p).app.logo},null,8,["nodes"]),k(M,{name:"vertical-nav-app-title"},{default:g(()=>[S($("h1",{class:"app-logo-title leading-normal"},R(e(p).app.title),513),[[A,!e(_)]])]),_:1})]),_:1}),S((r(),m(y(e(p).app.iconRenderer||"div"),C({class:["header-action d-none nav-unpin",e(n).isVerticalNavCollapsed&&"d-lg-block"]},e(p).icons.verticalNavUnPinned,{onClick:c[0]||(c[0]=u=>e(n).isVerticalNavCollapsed=!e(n).isVerticalNavCollapsed)}),null,16,["class"])),[[A,e(n).isVerticalNavCollapsed]]),S((r(),m(y(e(p).app.iconRenderer||"div"),C({class:["header-action d-none nav-pin",!e(n).isVerticalNavCollapsed&&"d-lg-block"]},e(p).icons.verticalNavPinned,{onClick:c[1]||(c[1]=u=>e(n).isVerticalNavCollapsed=!e(n).isVerticalNavCollapsed)}),null,16,["class"])),[[A,!e(n).isVerticalNavCollapsed]]),(r(),m(y(e(p).app.iconRenderer||"div"),C({class:"header-action d-lg-none"},e(p).icons.close,{onClick:c[2]||(c[2]=u=>i.toggleIsOverlayNavActive(!1))}),null,16))],!0)]),q(v.$slots,"before-nav-items",{},()=>[Re],!0),q(v.$slots,"nav-items",{updateIsVerticalNavScrolled:l},()=>[(r(),m(e(he),{key:e(n).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:b},{default:g(()=>[(r(!0),L(K,null,Y(i.navItems,(u,B)=>(r(),m(y(t(u)),{key:B,item:u},null,8,["item"]))),128))]),_:1}))],!0),q(v.$slots,"after-nav-items",{},void 0,!0)]),_:3},8,["class"])}}},Oe=Z(xe,[["__scopeId","data-v-a966936e"]]),Le={class:"nav-group-children"},Pe=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(i){const a=i,d=F(),h=re(),n=G(),t=n.isVerticalNavMini(),o=oe(Q,V(!1)),s=V(!1),l=V(!1),b=c=>c.some(f=>{let u=I.value.includes(f.title);return"children"in f&&(u=b(f.children)||u),u}),_=c=>{c.forEach(f=>{"children"in f&&_(f.children),I.value=I.value.filter(u=>u!==f.title)})};w(()=>d.path,()=>{const c=U(a.item.children,h);l.value=c&&!n.isVerticalNavMini(o).value,s.value=c},{immediate:!0}),w(l,c=>{const f=I.value.indexOf(a.item.title);c&&f===-1?I.value.push(a.item.title):!c&&f!==-1&&(I.value.splice(f,1),_(a.item.children))},{immediate:!0}),w(I,c=>{if(c.at(-1)===a.item.title)return;const u=U(a.item.children,h);u||b(a.item.children)||(l.value=u,s.value=u)},{deep:!0}),w(n.isVerticalNavMini(o),c=>{l.value=c?!1:s.value});const v=le();return(c,f)=>e(be)(i.item)?(r(),L("li",{key:0,class:j(["nav-group",[{active:e(s),open:e(l),disabled:i.item.disable}]])},[$("div",{class:"nav-group-label",onClick:f[0]||(f[0]=u=>l.value=!e(l))},[(r(),m(y(e(p).app.iconRenderer||"div"),C(i.item.icon||e(p).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(r(),m(y(e(v)?X:"div"),C({name:"transition-slide-x"},e(v)?void 0:{class:"d-flex align-center flex-grow-1"}),{default:g(()=>[S((r(),m(y(e(p).app.i18n.enable?"i18n-t":"span"),C(e(P)(i.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:g(()=>[T(R(i.item.title),1)]),_:1},16)),[[A,!e(t)]]),i.item.badgeContent?S((r(),m(y(e(p).app.i18n.enable?"i18n-t":"span"),C({key:0},e(P)(i.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",i.item.badgeClass]}),{default:g(()=>[T(R(i.item.badgeContent),1)]),_:1},16,["class"])),[[A,!e(t)]]):x("",!0),S((r(),m(y(e(p).app.iconRenderer||"div"),C(e(p).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[A,!e(t)]])]),_:1},16))]),k(e(Ie),null,{default:g(()=>[S($("ul",Le,[(r(!0),L(K,null,Y(i.item.children,u=>(r(),m(y("children"in u?"VerticalNavGroup":e(te)),{key:u.title,item:u},null,8,["item"]))),128))],512),[[A,e(l)]])]),_:1})],2)):x("",!0)}}),Te=z({props:{navItems:{type:Array,required:!0},verticalNavAttrs:{type:Object,default:()=>({})}},setup(i,{slots:a}){const{width:d}=ce(),h=G(),n=V(!1),t=V(!1),o=ue(n);return de(n,t),w(d,()=>{!h.isLessThanOverlayNavBreakpoint&&t.value&&(t.value=!1)}),()=>{var D,H,W;const s=ve(i,"verticalNavAttrs"),{wrapper:l,wrapperProps:b,..._}=s.value,v=N(Oe,{isOverlayNavActive:n.value,toggleIsOverlayNavActive:o,navItems:i.navItems,..._},{"nav-header":()=>{var O;return(O=a["vertical-nav-header"])==null?void 0:O.call(a)},"before-nav-items":()=>{var O;return(O=a["before-vertical-nav-items"])==null?void 0:O.call(a)}}),c=N("header",{class:["layout-navbar",{"navbar-blur":h.isNavbarBlurEnabled}]},[N("div",{class:"navbar-content-container"},(D=a.navbar)==null?void 0:D.call(a,{toggleVerticalOverlayNavActive:o}))]),f=N("main",{class:"layout-page-content"},N("div",{class:"page-content-container"},(H=a.default)==null?void 0:H.call(a))),u=N("footer",{class:"layout-footer"},[N("div",{class:"footer-content-container"},(W=a.footer)==null?void 0:W.call(a))]),B=N("div",{class:["layout-overlay",{visible:t.value}],onClick:()=>{t.value=!t.value}});return N("div",{class:["layout-wrapper",...h._layoutClasses]},[l?N(l,b,{default:()=>v}):v,N("div",{class:"layout-content-wrapper"},[c,f,u]),B])}}}),te={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(i){const d=G().isVerticalNavMini();return(h,n)=>e(ee)(i.item.action,i.item.subject)?(r(),L("li",{key:0,class:j(["nav-link",{disabled:i.item.disable}])},[(r(),m(y(i.item.to?"RouterLink":"a"),C(e(me)(i.item),{class:{"router-link-active router-link-exact-active":e(pe)(i.item,h.$router)}}),{default:g(()=>[(r(),m(y(e(p).app.iconRenderer||"div"),C(i.item.icon||e(p).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),k(X,{name:"transition-slide-x"},{default:g(()=>[S((r(),m(y(e(p).app.i18n.enable?"i18n-t":"span"),C({key:"title",class:"nav-item-title"},e(P)(i.item.title,"span")),{default:g(()=>[T(R(i.item.title),1)]),_:1},16)),[[A,!e(d)]]),i.item.badgeContent?S((r(),m(y(e(p).app.i18n.enable?"i18n-t":"span"),C({key:"badge",class:["nav-item-badge",i.item.badgeClass]},e(P)(i.item.badgeContent,"span")),{default:g(()=>[T(R(i.item.badgeContent),1)]),_:1},16,["class"])),[[A,!e(d)]]):x("",!0)]),_:1})]),_:1},16,["class"]))],2)):x("",!0)}},Ge={key:0,class:"nav-section-title"},qe={class:"title-wrapper"},Be={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(i){const d=G().isVerticalNavMini();return(h,n)=>e(ee)(i.item.action,i.item.subject)?(r(),L("li",Ge,[$("div",qe,[k(M,{name:"vertical-nav-section-title",mode:"out-in"},{default:g(()=>[(r(),m(y(e(d)?e(p).app.iconRenderer:e(p).app.i18n.enable?"i18n-t":"span"),C({key:e(d),class:e(d)?"placeholder-icon":"title-text"},{...e(p).icons.sectionTitlePlaceholder,...e(P)(i.item.heading,"span")}),{default:g(()=>[T(R(e(d)?null:i.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):x("",!0)}},Ee=[{title:"Panel principal",to:{name:"dashboard"},permission:"all",icon:{icon:"ri-pie-chart-box-line"}},{heading:"Accesos",permissions:["list_role","list_user","settings"]},{title:"Roles y Permisos",to:{name:"roles-permisos"},permission:"list_role",icon:{icon:"ri-lock-password-line"}},{title:"Usuarios",to:{name:"users"},permission:"list_user",icon:{icon:"ri-group-line"}},{title:"Configuraciones",icon:{icon:"ri-tools-line"},children:[{title:"Sucursales",to:"configuration-sucursales",permission:"settings",icon:{icon:"ri-radio-button-line"}},{title:"Almacenes",to:"configuration-warehouses",permission:"settings",icon:{icon:"ri-radio-button-line"}},{title:"Categorias",to:"configuration-categories",permission:"settings",icon:{icon:"ri-radio-button-line"}},{title:"Proveedores",to:"configuration-providers",permission:"settings",icon:{icon:"ri-radio-button-line"}},{title:"Unidades",to:"configuration-units",permission:"settings",icon:{icon:"ri-radio-button-line"}}]},{heading:"Comercial",permissions:["list_product","register_product","list_client","register_sale","list_sale","return"]},{title:"Productos",icon:{icon:"ri-product-hunt-line"},children:[{title:"Registrar",to:"product-add",permission:"register_product",icon:{icon:"ri-radio-button-line"}},{title:"Listado",to:"product-list",permission:"list_product",icon:{icon:"ri-radio-button-line"}}]},{title:"Clientes",icon:{icon:"ri-p2p-line"},permission:"list_client",to:"client-list"},{title:"Ventas",icon:{icon:"ri-money-dollar-box-line"},children:[{title:"Registrar",to:"sales-add",permission:"register_sale",icon:{icon:"ri-radio-button-line"}},{title:"Listado",to:"sales-list",permission:"list_sale",icon:{icon:"ri-radio-button-line"}}]},{title:"Devolución",icon:{icon:"ri-loop-right-line"},permission:"return",to:"refound-list"},{heading:"Almacén",permissions:["register_purchase","list_purchase","register_transport","list_transport","conversions","kardex"]},{title:"Compras",icon:{icon:"ri-box-3-line"},children:[{title:"Registrar",to:"purchase-add",permission:"register_purchase",icon:{icon:"ri-radio-button-line"}},{title:"Listado",to:"purchase-list",permission:"list_purchase",icon:{icon:"ri-radio-button-line"}}]},{title:"Transporte",icon:{icon:"ri-translate"},children:[{title:"Registrar",to:"transport-add",permission:"register_transport",icon:{icon:"ri-radio-button-line"}},{title:"Listado",to:"transport-list",permission:"list_transport",icon:{icon:"ri-radio-button-line"}}]},{title:"Conversión",icon:{icon:"ri-file-ppt-2-line"},permission:"conversions",to:"conversion-list"},{title:"Kardex",to:{name:"kardex"},permission:"kardex",icon:{icon:"ri-draft-line"}}],Me={class:"d-flex h-100 align-center"},ct={__name:"DefaultLayoutWithVerticalNav",setup(i){const a=V(!1),d=V(null),h=F();w([a,d,()=>h.fullPath],()=>{var t,o,s,l;a.value?(o=(t=d.value)==null?void 0:t.fallbackHandle)==null||o.call(t):(l=(s=d.value)==null?void 0:s.resolveHandle)==null||l.call(s)},{immediate:!0});const n=V([]);return fe(()=>{const t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;if(!t)return;const o=t.permissions||[];n.value=[],Ee.forEach(s=>{var l,b;if(((l=t.role)==null?void 0:l.name)==="Super-Admin"){n.value.push(s);return}if(s.permission==="all"){n.value.push(s);return}if(s.heading){(s.permissions||[]).filter(v=>o.includes(v)).length&&n.value.push(s);return}if((b=s.children)!=null&&b.length){const _=s.children.filter(v=>o.includes(v.permission));_.length&&n.value.push({...s,children:_});return}o.includes(s.permission)&&n.value.push(s)})}),(t,o)=>{const s=J("RouterView");return r(),m(e(Te),{"nav-items":n.value},{logo:g(()=>[]),navbar:g(({toggleVerticalOverlayNavActive:l})=>{var b;return[$("div",Me,[k(Ve,{id:"vertical-nav-toggle-btn",class:"ms-n2 d-lg-none",icon:"ri-menu-line",onClick:_=>l(!0)},null,8,["onClick"]),k(ke),k(Se),e(E).app.i18n.enable&&((b=e(E).app.i18n.langConfig)!=null&&b.length)?(r(),m(Ne,{key:0,languages:e(E).app.i18n.langConfig},null,8,["languages"])):x("",!0),k(_e)])]}),default:g(()=>[k(Ce,{ref_key:"refLoadingIndicator",ref:d},null,512),k(s,null,{default:g(({Component:l})=>[(r(),m(ge,{timeout:0,onFallback:o[0]||(o[0]=b=>a.value=!0),onResolve:o[1]||(o[1]=b=>a.value=!1)},{default:g(()=>[(r(),m(y(l)))]),_:2},1024))]),_:1})]),_:1},8,["nav-items"])}}};export{ct as default};
